{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../providers/firebase\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\n\nfunction HistoricoPage_ion_item_sliding_12_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 16)(1, \"ion-thumbnail\", 17);\n    i0.ɵɵelement(2, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const opcao_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", opcao_r3.imagem, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(opcao_r3.titulo);\n  }\n}\n\nfunction HistoricoPage_ion_item_sliding_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item-sliding\")(1, \"ion-row\", 9)(2, \"ion-col\", 10);\n    i0.ɵɵtemplate(3, HistoricoPage_ion_item_sliding_12_ion_item_3_Template, 5, 2, \"ion-item\", 11);\n    i0.ɵɵelementStart(4, \"ion-badge\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-label\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"ion-item-options\")(10, \"ion-item-option\", 14);\n    i0.ɵɵlistener(\"click\", function HistoricoPage_ion_item_sliding_12_Template_ion_item_option_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.remover(p_r1);\n    });\n    i0.ɵɵelement(11, \"ion-icon\", 15);\n    i0.ɵɵtext(12, \" Cancelar \");\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14, \"agendamento \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", p_r1.itens);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r0.firebase.config.color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(p_r1.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 5, p_r1.data.toDate(), \"dd/MM/yyyy HH:mm\"));\n  }\n}\n\nexport let HistoricoPage = /*#__PURE__*/(() => {\n  class HistoricoPage {\n    constructor(firebase, modalController, alertController) {\n      this.firebase = firebase;\n      this.modalController = modalController;\n      this.alertController = alertController;\n      this.pedidos = [];\n    }\n\n    fechar() {\n      this.modalController.dismiss();\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        //Recuperar detalhes dos pedidos\n        let items = JSON.parse(localStorage.getItem('historicoPedidos'));\n        console.log(items);\n\n        if (items) {\n          items.forEach(item => __awaiter(this, void 0, void 0, function* () {\n            console.log(item);\n            this.firebase.pedido(item).then(r => {\n              console.log(r + 'Teste');\n              this.pedidos.push(r);\n            });\n          }));\n        }\n      });\n    }\n\n    remover(p) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          header: 'Quer mesmo remover esse item?',\n          message: 'Essa ação não pode ser desfeita.',\n          buttons: [{\n            text: 'Cancelar',\n            role: 'cancel',\n            handler: () => {}\n          }, {\n            text: 'Remover',\n            handler: () => {\n              localStorage.removeItem(p);\n              console.log('Removeu');\n            }\n          }]\n        });\n        yield alert.present();\n      });\n    }\n\n  }\n\n  HistoricoPage.ɵfac = function HistoricoPage_Factory(t) {\n    return new (t || HistoricoPage)(i0.ɵɵdirectiveInject(i1.FirebaseService), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i2.AlertController));\n  };\n\n  HistoricoPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HistoricoPage,\n    selectors: [[\"app-historico\"]],\n    decls: 13,\n    vars: 13,\n    consts: [[\"collapse\", \"undefined\", \"mode\", \"ios\", 3, \"translucent\"], [\"slot\", \"start\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"chevron-back-outline\"], [\"size\", \"large\", 2, \"text-align\", \"center\", \"font-size\", \"18px\"], [3, \"fullscreen\"], [\"id\", \"container\"], [\"mode\", \"ios\", 2, \"margin-top\", \"20px\"], [2, \"margin-bottom\", \"15px\", \"color\", \"#fff\"], [4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"100%\"], [\"size\", \"12\"], [\"lines\", \"none\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"primary\", 2, \"font-size\", \"10px\", \"position\", \"relative\", \"top\", \"4px\", \"margin-right\", \"10px\", \"margin-bottom\", \"15px\"], [2, \"overflow\", \"visible !important\", \"color\", \"rgb(61, 61, 61)\", \"font-size\", \"15px\"], [\"color\", \"danger\", 3, \"click\"], [\"center\", \"\", \"slot\", \"end\", \"name\", \"trash-outline\"], [\"lines\", \"none\"], [\"slot\", \"start\"], [3, \"src\"]],\n    template: function HistoricoPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n        i0.ɵɵlistener(\"click\", function HistoricoPage_Template_ion_buttons_click_2_listener() {\n          return ctx.fechar();\n        });\n        i0.ɵɵelementStart(3, \"ion-button\");\n        i0.ɵɵelement(4, \"ion-icon\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"ion-title\", 3);\n        i0.ɵɵtext(6, \" Hist\\u00F3rico de pedidos \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"ion-content\", 4)(8, \"div\", 5)(9, \"ion-list\", 6)(10, \"ion-list-header\", 7);\n        i0.ɵɵtext(11, \" Pedidos \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, HistoricoPage_ion_item_sliding_12_Template, 15, 8, \"ion-item-sliding\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n        i0.ɵɵproperty(\"translucent\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pedidos);\n      }\n    },\n    directives: [i2.IonHeader, i2.IonToolbar, i2.IonButtons, i2.IonButton, i2.IonIcon, i2.IonTitle, i2.IonContent, i2.IonList, i2.IonListHeader, i3.NgForOf, i2.IonItemSliding, i2.IonRow, i2.IonCol, i2.IonItem, i2.IonThumbnail, i2.IonLabel, i2.IonBadge, i2.IonItemOptions, i2.IonItemOption],\n    pipes: [i3.DatePipe],\n    styles: [\"#container[_ngcontent-%COMP%]{padding:30px}.promoCard[_ngcontent-%COMP%]{width:100%;height:100px;background:#6b6969;border-radius:5px;background-size:cover!important;background-position-x:center!important;background-position-y:center!important}.logo[_ngcontent-%COMP%]{width:60px}ion-menu-button[_ngcontent-%COMP%]{--color: white !important;color:#fff!important}ion-menu-buttons[_ngcontent-%COMP%]{--color: white !important;color:#fff!important}.header-translucent-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--opacity: 0 !important}ion-item[_ngcontent-%COMP%]{--padding-start: 0px;margin-bottom:15px}ion-list-header[_ngcontent-%COMP%]{-webkit-padding-start:0px;padding-inline-start:0px;padding:0 10px;align-items:center;font-size:16px;border-radius:5px}ion-col[_ngcontent-%COMP%]{padding:0}.produtoImagem[_ngcontent-%COMP%]{width:70px;height:70px;background-size:cover!important;background-position-x:center!important;background-position-y:center!important;border-radius:100px}.imagemProduto[_ngcontent-%COMP%]{background-size:cover!important;background-position-x:center!important;background-position-y:center!important;height:100px;width:100px;border-radius:100px}.containerProduto[_ngcontent-%COMP%]{width:100%;display:flex;text-align:center;justify-content:center}.descProduto[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word;font-size:14px;color:#666}.footerDiv[_ngcontent-%COMP%]{width:100%;height:50px}.iconDiv[_ngcontent-%COMP%]{border-radius:5px;text-align:center;width:90%;margin-left:5%}ion-content[_ngcontent-%COMP%]{--background: #fff !important}ion-item[_ngcontent-%COMP%]{--background: transparent !important}ion-list[_ngcontent-%COMP%]{--background: transparent !important;background:transparent!important;--ion-background-color: transparent !important}\"]\n  });\n  return HistoricoPage;\n})();","map":null,"metadata":{},"sourceType":"module"}