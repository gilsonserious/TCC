{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../../providers/firebase\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ModalPage_ion_list_13_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 18);\n    i0.ɵɵlistener(\"click\", function ModalPage_ion_list_13_ion_item_3_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.deixarApenasUmMarcado(i_r4);\n    });\n    i0.ɵɵelementStart(1, \"ion-label\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-checkbox\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ModalPage_ion_list_13_ion_item_3_Template_ion_checkbox_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const opcao_r3 = restoredCtx.$implicit;\n      return opcao_r3.checked = $event;\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const opcao_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(opcao_r3.titulo.toUpperCase());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", opcao_r3.checked);\n  }\n}\n\nfunction ModalPage_ion_list_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 15)(1, \"ion-list-header\", 16);\n    i0.ɵɵtext(2, \" Escolha uma op\\u00E7\\u00E3o \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ModalPage_ion_list_13_ion_item_3_Template, 4, 2, \"ion-item\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r0.firebase.config.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.produto.variacoes);\n  }\n}\n\nfunction ModalPage_ion_list_14_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 18);\n    i0.ɵɵlistener(\"click\", function ModalPage_ion_list_14_ion_item_3_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r10 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.recalcularTotal(i_r10);\n    });\n    i0.ɵɵelementStart(1, \"ion-label\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-checkbox\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ModalPage_ion_list_14_ion_item_3_Template_ion_checkbox_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const opcao_r9 = restoredCtx.$implicit;\n      return opcao_r9.checked = $event;\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const opcao_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", opcao_r9.titulo, \" R$\", opcao_r9.preco, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", opcao_r9.checked);\n  }\n}\n\nfunction ModalPage_ion_list_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 15)(1, \"ion-list-header\", 16);\n    i0.ɵɵtext(2, \" Adicionais \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ModalPage_ion_list_14_ion_item_3_Template, 4, 3, \"ion-item\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r1.firebase.config.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.produto.adicionais);\n  }\n}\n\nexport let ModalPage = /*#__PURE__*/(() => {\n  class ModalPage {\n    constructor(modalController, firebase, navParams, toastController) {\n      this.modalController = modalController;\n      this.firebase = firebase;\n      this.navParams = navParams;\n      this.toastController = toastController;\n      this.quantidade = 1;\n      this.obs = '';\n      this.produto = this.navParams.get('produto');\n    }\n\n    ngOnInit() {}\n\n    fechar() {\n      this.modalController.dismiss();\n    }\n\n    adicionarAoCarrinho() {\n      return __awaiter(this, void 0, void 0, function* () {\n        //Validar se precisa selecionar uma opção\n        if (this.produto.variacoes.length > 0) {\n          let itemChecked = false;\n          this.produto.variacoes.forEach(item => {\n            if (item.checked) {\n              itemChecked = true;\n            }\n          });\n\n          if (itemChecked) {\n            this.finalizarAdicao();\n          } else {\n            const toast = yield this.toastController.create({\n              message: 'Ops! Você precisa selecionar uma opção antes de continuar',\n              duration: 2000\n            });\n            toast.present();\n          }\n        } else {\n          this.finalizarAdicao();\n        }\n      });\n    }\n\n    finalizarAdicao() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.produto['quantidade'] = this.quantidade;\n        this.produto['obs'] = this.obs;\n        this.firebase.carrinho.push(this.produto);\n        this.fechar();\n        const toast = yield this.toastController.create({\n          message: this.produto.titulo + ' foi adicionado no seu carrinho!',\n          duration: 2000\n        });\n        toast.present(); // const modal = await this.modalController.create({\n        //   component: CarrinhoPage,\n        // });\n        // return await modal.present();\n      });\n    }\n\n    adicionar() {\n      this.quantidade = this.quantidade + 1;\n    }\n\n    remover() {\n      if (this.quantidade > 1) {\n        this.quantidade = this.quantidade - 1;\n      }\n    }\n\n    deixarApenasUmMarcado(index) {\n      let i = 0;\n\n      for (i; i < this.produto.variacoes.length; i++) {\n        if (i != index) {\n          this.produto.variacoes[i].checked = false;\n        }\n      }\n    }\n\n    recalcularTotal(i) {\n      if (this.produto.adicionais[i].checked) {\n        this.produto.preco = this.produto.preco + this.produto.adicionais[i].preco;\n      } else {\n        this.produto.preco = this.produto.preco - this.produto.adicionais[i].preco;\n      }\n    }\n\n  }\n\n  ModalPage.ɵfac = function ModalPage_Factory(t) {\n    return new (t || ModalPage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.FirebaseService), i0.ɵɵdirectiveInject(i1.NavParams), i0.ɵɵdirectiveInject(i1.ToastController));\n  };\n\n  ModalPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalPage,\n    selectors: [[\"app-modal\"]],\n    decls: 24,\n    vars: 18,\n    consts: [[\"collapse\", \"undefined\", \"mode\", \"ios\", 3, \"translucent\"], [\"slot\", \"start\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"chevron-back-outline\"], [\"size\", \"large\", 2, \"text-align\", \"center\", \"font-size\", \"18px\"], [\"id\", \"container\"], [1, \"containerProduto\"], [1, \"imagemProduto\"], [1, \"descProduto\"], [\"mode\", \"ios\", \"style\", \"margin-top: 20px;\", \"lines\", \"none\", 4, \"ngIf\"], [2, \"margin-top\", \"20px\"], [\"position\", \"floating\"], [3, \"ngModel\", \"ngModelChange\"], [\"mode\", \"ios\", 3, \"click\"], [1, \"footerDiv\"], [2, \"color\", \"#fff\", \"font-size\", \"14px\"], [\"mode\", \"ios\", \"lines\", \"none\", 2, \"margin-top\", \"20px\"], [2, \"margin-bottom\", \"15px\", \"color\", \"#fff\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [2, \"font-size\", \"14px\", \"color\", \"black\"], [\"slot\", \"end\", \"color\", \"success\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function ModalPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n        i0.ɵɵlistener(\"click\", function ModalPage_Template_ion_buttons_click_2_listener() {\n          return ctx.fechar();\n        });\n        i0.ɵɵelementStart(3, \"ion-button\");\n        i0.ɵɵelement(4, \"ion-icon\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"ion-title\", 3);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"ion-content\")(8, \"div\", 4)(9, \"div\", 5);\n        i0.ɵɵelement(10, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\", 7);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, ModalPage_ion_list_13_Template, 4, 3, \"ion-list\", 8);\n        i0.ɵɵtemplate(14, ModalPage_ion_list_14_Template, 4, 3, \"ion-list\", 8);\n        i0.ɵɵelementStart(15, \"ion-item\", 9)(16, \"ion-label\", 10);\n        i0.ɵɵtext(17, \"Observa\\u00E7\\u00F5es\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-textarea\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ModalPage_Template_ion_textarea_ngModelChange_18_listener($event) {\n          return ctx.obs = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"ion-footer\", 12);\n        i0.ɵɵlistener(\"click\", function ModalPage_Template_ion_footer_click_19_listener() {\n          return ctx.adicionarAoCarrinho();\n        });\n        i0.ɵɵelementStart(20, \"ion-toolbar\")(21, \"div\", 13)(22, \"ion-title\", 14);\n        i0.ɵɵtext(23, \"Adicionar\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n        i0.ɵɵproperty(\"translucent\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"color\", ctx.firebase.config.color);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.produto.titulo, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵstyleProp(\"background\", \"url(\" + ctx.produto.imagem + \")\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.produto.descricao);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.produto.variacoes.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.produto.adicionais.length > 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.obs);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"background-color\", ctx.firebase.config.color);\n      }\n    },\n    directives: [i1.IonHeader, i1.IonToolbar, i1.IonButtons, i1.IonButton, i1.IonIcon, i1.IonTitle, i1.IonContent, i3.NgIf, i1.IonList, i1.IonListHeader, i3.NgForOf, i1.IonItem, i1.IonLabel, i1.IonCheckbox, i1.BooleanValueAccessor, i4.NgControlStatus, i4.NgModel, i1.IonTextarea, i1.TextValueAccessor, i1.IonFooter],\n    styles: [\"#container[_ngcontent-%COMP%]{padding:30px}.promoCard[_ngcontent-%COMP%]{width:100%;height:100px;background:#6b6969;border-radius:5px;background-size:cover!important;background-position-x:center!important;background-position-y:center!important}.logo[_ngcontent-%COMP%]{width:60px}ion-menu-button[_ngcontent-%COMP%]{--color: white !important;color:#fff!important}ion-menu-buttons[_ngcontent-%COMP%]{--color: white !important;color:#fff!important}.header-translucent-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--opacity: 0 !important}ion-item[_ngcontent-%COMP%]{--padding-start: 0px;margin-bottom:15px}ion-list-header[_ngcontent-%COMP%]{-webkit-padding-start:0px;padding-inline-start:0px;padding:0 10px;align-items:center;font-size:16px;border-radius:5px}ion-col[_ngcontent-%COMP%]{padding:0}.produtoImagem[_ngcontent-%COMP%]{width:70px;height:70px;background-size:cover!important;background-position-x:center!important;background-position-y:center!important;border-radius:100px}.imagemProduto[_ngcontent-%COMP%]{background-size:cover!important;background-position-x:center!important;background-position-y:center!important;height:100px;width:100px;border-radius:100px}.containerProduto[_ngcontent-%COMP%]{width:100%;display:flex;text-align:center;justify-content:center}.descProduto[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word;font-size:14px;color:#666}.footerDiv[_ngcontent-%COMP%]{width:100%;height:50px}.iconDiv[_ngcontent-%COMP%]{border-radius:5px;text-align:center;width:90%;margin-left:5%}ion-content[_ngcontent-%COMP%]{--background: #fff !important}ion-item[_ngcontent-%COMP%]{--background: transparent !important}ion-list[_ngcontent-%COMP%]{--background: transparent !important;background:transparent!important;--ion-background-color: transparent !important}ion-label[_ngcontent-%COMP%]{color:#000!important}ion-text-area[_ngcontent-%COMP%]{color:#000!important}textarea[_ngcontent-%COMP%]{color:#000!important}\"]\n  });\n  return ModalPage;\n})();","map":null,"metadata":{},"sourceType":"module"}