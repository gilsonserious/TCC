{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet CategoriasComponent = class CategoriasComponent {\n  constructor(afs, afAuth, storage) {\n    this.afs = afs;\n    this.afAuth = afAuth;\n    this.storage = storage;\n    this.categorias = [];\n    this.novo = false;\n    this.categoria = {\n      titulo: null\n    };\n  }\n\n  carregar() {\n    //Listar categorias\n    this.afs.firestore.collection('categorias').get().then(r => {\n      let categorias = [];\n      r.forEach(rr => {\n        let obj = rr.data();\n        obj['id'] = rr.id;\n        categorias.push(obj);\n      });\n      this.categorias = categorias; // console.log(this.categorias);\n    });\n  }\n\n  excluir(id) {\n    this.afs.firestore.collection('categorias').doc(id).delete().then(() => {\n      this.carregar();\n    });\n  }\n\n  ngOnInit() {\n    // this.afAuth.signInAnonymously();\n    this.carregar();\n  }\n\n  adicionar() {\n    if (this.categoria.titulo) {\n      this.afs.firestore.collection('categorias').add(this.categoria).then(() => {\n        this.novo = false;\n        this.carregar();\n      });\n    }\n  }\n\n};\nCategoriasComponent = __decorate([Component({\n  selector: \"app-categorias\",\n  templateUrl: \"./categorias.component.html\"\n})], CategoriasComponent);\nexport { CategoriasComponent };","map":null,"metadata":{},"sourceType":"module"}